<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>海角论坛-用户注册</title>
    <link rel="stylesheet" href="css/base.css"/>
    <link rel="stylesheet" href="css/register.css"/>
<!--这里改-->
<script src="./lib/vue-2.4.0.js"></script>
 <script src="./lib/vue-resource-1.3.4.js"></script>

</head>
<body>
    <div id="main">
        <div id="header">
        </div>
        <div class="container">
			
            <div class="bgPic"><img src="img/register/b2_1.jpg" alt=""/></div>
            <div class="register">
				<br />
                <div class="title">
                    <span>注册</span>
                    <a href="login.html">去登录</a>
                </div>
                <form autocomplete="off">
                    <div class="default">
                        <p>用户名由3~10个数字和英文字符组成</p>
                        <input id="uname" v-model="name"name="uname" data-form="uname" type="text" />
                        <label for="uname">用户名</label>
                    </div>
                    <div class="default">
                        <p>密码由8~10个数字和英文字符组成</p>
                        <input id="upwd" v-model="password"name="upwd" data-form="upwd" type="password"/>
                        <label for="upwd">密码</label>
                    </div>
                    <div class="default">
                        <p>请确认两次输入密码一致</p>
                        <input id="upwd_2" data-form="upwd_2" type="password"/>
                        <label for="upwd_2">确认密码</label>
                    </div>
                    <div class="default">
                        <p>请输入中国大陆手机号码</p>
                        <input id="phone" v-model="phone"name="phone" data-form="phone" type="text"/>
                        <label for="phone">手机</label>
                    </div>
                    <div class="submit">
                        <span class="notice">点击"注册"代表您同意遵守
                            <a href="#">用户协议</a>
                            和
                            <a href="#">隐私条款</a>
                        </span>
                        <button class="s_hover" data-form="submit" onclick="register()">注册</button>
                    </div>
                </form>
            
            </div>
        </div>
        <div id="footer">
        </div>
    </div>
<script>
    	var vm = new Vue({
    		el: '#app',
    		data:{
    			name:'',
    			password:'',
    			phone:'',
    			
    		}
    		created(){
    			
    		}
    		methods:{
    		register(){
    			this.$http.post('',{name:this.name,password:this.password,phone:this.phone},{emulateJSON:true}).then(result=>{
    					if(result.body.status ===0){
    			   		this.title='',
    			   		this.content='',
    			   		this.phone='',
    			   	}else{
    			   		alert('注册失败')
    			   	}
    		}
    		}
    	})
    </script>
</body>
</html>